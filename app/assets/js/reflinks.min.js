(function(){var t,n,e,o,r,i,u,a,l,s,c,d,h,f,p,m,v,g,y,E,O,w,b,T,L,x,R,k,S,A,D,N,H,C,I,M,q,U,_,B,F,P,W,G,X,Y,j,Q,z,J,K,V;return window.history&&window.history.pushState?(o=function(){function t(n){n instanceof t&&this.storeUrl(n),"string"==typeof n?this.storeAndSplit(n):n&&n.href&&n.pathname&&this.storeLocation(n)}return t.prototype.storeUrl=function(t){return this.protocol=t.protocol,this.domain=t.domain,this.hash=t.hash,this.query=t.query,this.path=t.path},t.prototype.storeAndSplit=function(t){var n,e,o,r;return-1!==t.indexOf("http://")&&(this.protocol="http"),-1!==t.indexOf("https://")&&(this.protocol="https"),t=t.replace(this.protocol+"://",""),e=t.indexOf("#"),r=-1===t.indexOf("/")?t.length:t.indexOf("/"),o=-1===t.indexOf("?",r)?t.length:t.indexOf("?",r),n=-1===e?t.length:e,this.domain=t.substring(0,r),-1!==e?(this.hash=t.substring(e,t.length),this.path=t.substring(r,Math.min(e,o))):(this.hash="",this.path=t.substring(r,o)),this.query=n>o?t.substring(o,n):""},t.prototype.storeLocation=function(t){return this.domain=t.host,this.hash=t.hash,this.path=t.pathname,this.protocol=t.protocol.replace(":",""),this.query=t.search},t.prototype.full=function(){return this.fullWithoutHash()+this.hash},t.prototype.fullWithoutHash=function(){var t;return t=this.protocol?this.protocol+"://":h.protocol,t+this.domainOrCurrent()+this.path+this.query},t.prototype.domainOrCurrent=function(){return this.domain||h.domain},t.prototype.isSame=function(t){return this.protocol===t.protocol&&this.domain===t.domain&&this.path===t.path&&this.query===t.query},t.prototype.isSamePath=function(t){return this.isSameDomain(t)&&this.path===t.path},t.prototype.matches=function(t){var n,e,o,r,i,u,a,l;if(l=null!=(i=t.path)?i.split("/"):void 0,r=this.path.split("/"),l.length!==r.length)return!1;for(this.latestMatchedParams={},n=e=0,u=r.length;u>=0?u>=e:e>=u;n=u>=0?++e:--e){if(o=r[n],a=l[n],o!==a&&0!==o.indexOf(":"))return!1;o&&0===o.indexOf(":")&&(this.latestMatchedParams[o.replace(":","")]=a)}return!0},t.prototype.isSameDomain=function(t){return this.domainOrCurrent()===t.domainOrCurrent()},t}(),e=this.Reflinks={},e.progressBarDelay=400,e.xhrTimeout=4e3,e.redirectStatusCode=280,k=[],l={},d=null,h=null,t={LOAD:"reflinks:load",BEFORE_REQUEST:"reflinks:before-request",TIMEOUT:"reflinks:timeout",BEFORE_UNLOAD:"reflinks:before-unload",BEFORE_LOAD:"reflinks:before-load",BEFORE_RELOAD:"reflinks:before-reload",RESTORE:"reflinks:restore"},W=[],e.visit=function(t,n){var e,r;return null==n&&(n="GET"),r=new o(t).fullWithoutHash(),R(r)?(e=F(n,r),e&&!e.once?U(n,r,e):void 0):i(n,t)},H=[],g=function(t){var n,e,r;for(t=new o(t),n=0,e=H.length;e>n;n++)if(r=H[n],r.url.matches(t))return r},y=function(t){var n;return t=new o(t),(n=g(t))?n:(n={url:t},H.push(n),n)},e.when=function(t,n,e){var o;return null==e&&(e={}),o=y(t),o.callbacks=o.callbacks||[],n._config=e,o.callbacks.push(n)},e.clearNavigation=function(t,n){var e;return e=g(t),e?n?e.callbacks.splice(e.callbacks.indexOf(n),1):e.callbacks=[]:"no navigation callback found"},c=function(t){var n,e,o,r,i,u,a,l,s;if(u=g(t.data.url)){for(l=u.callbacks,s=[],o=0,i=l.length;i>o;o++){n=l[o],r=u.url.latestMatchedParams,e=!0;for(a in n._config)if(!n._config[a](r[a])){e=!1;break}s.push(e?n({ev:t,params:r}):void 0)}return s}},document.addEventListener(t.LOAD,c),window.addEventListener("load",function(){return c({data:{url:document.location.href}})}),e.logTransitions=function(){return document.addEventListener(t.LOAD,function(){return console.log("[TRANSITION]",h.full())}),document.addEventListener(t.RESTORE,function(){return console.log("[TRANSITION]",h.full())})},Q=function(t,n){return-1!==t.indexOf(n,t.length-n.length)},Y=function(t){return-1!==k.indexOf(t)},x=function(t){return t=new o(t),t.hash&&h.isSame(t)},z=function(t){var n;return n=document.createElement("div"),n.innerHTML=t,n.childNodes},J=function(t,n){var e;return e=document.createEvent("Events"),n&&(e.data=n),e.initEvent(t,!0,!0),document.dispatchEvent(e)},V=function(t){return document.title=t},u=e.cache=function(t,n){var e;return null==t&&(t=new o(document.location)),null==n&&(n=!1),e="string"==typeof t?t:t.fullWithoutHash(),d=l[e]={location:new o(document.location),documentRoot:p,once:n}},a=e.cacheOnce=function(t){return e.cache(t,!0)},O=function(t){var n;n=new o(t);for(u in l)if(l[u].location.isSame(n)||Q(l[u].location.fullWithoutHash(),t))return l[u];return null},R=function(t){return null!==O(t)},L=function(){return R(h.fullWithoutHash())},G=function(){var t;for(t=[];W.length>0;)t.push(W.pop().call());return t},S=function(){var t,n;return t=(n=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[n.length-1],t&&document.activeElement!==t?t.focus():void 0},j=function(){return h=new o(document.location),d=O(h.fullWithoutHash())},document.addEventListener(t.LOAD,G),document.addEventListener(t.LOAD,S),j(),p=document.body,v=function(){var t;return t=document.querySelector("*[data-reflinks-root]"),p=t||document.body},m=function(t){var n,e,o,r;for(o=0,r=t.length;r>o;o++){if(e=t[o],e.getAttribute("data-reflinks-root"))return e;if(n=e.querySelector("*[data-reflinks-root]"))return n}return null},n={elm:z('<div style="width: 0%; position: absolute; height: 3px; background-color: red; top: 0; left: 0;"></div>')[0],start:function(){return n.delayTimeoutId=setTimeout(function(){var t;return n.elm.style.display="block",n.elm.style.width="1%",t=0,n.interval=setInterval(function(){var e;return e=100-t,100>=t&&(t+=Math.min(Math.floor(7*Math.random())+1,e)),n.elm.style.width=t+"%"},100)},e.progressBarDelay)},moveTo:function(t){return n.elm.style.width=t+"%"},done:function(){return n.delayTimeoutId&&(clearTimeout(n.delayTimeoutId),n.delayTimeoutId=null),n.interval&&(clearInterval(n.interval),n.interval=null),n.elm.style.width="100%",setTimeout(function(){return n.elm.style.display="none"},10)}},window.addEventListener("load",function(){return j(),v(),document.body.appendChild(n.elm),k.push(n.elm)}),window.addEventListener("popstate",function(t){var n,e,r,u;return u=new o(t.target.location),h.isSame(u)?"just a hash change...":(n=window.history.state,e=document.location.href,r=(null!=n?n.method:void 0)||"GET",R(e)?F(r,e,!0):i(r,e,null,!0))}),document.addEventListener("click",function(t){return t.target&&"A"===t.target.tagName?(null!=d&&(d.scroll=f()),b(t.target,t)):void 0}),document.addEventListener("submit",function(t){var n,e,o,r,u,a,l,s;for(t.preventDefault(),e=t.target,l={},a=e.elements,o=0,r=a.length;r>o;o++)n=a[o],D(n),l[n.name]=n.value;return u=e.attributes.method.value||"POST",s=e.attributes.action.value,null!=d&&(d.scroll=f()),i(u,s,l)}),A=function(t){return t.getAttribute("data-processing-disable")?(t.disabled=!0,W.push(function(){return t.disabled=!1})):void 0},N=function(t){var n,e;return e=t.getAttribute("data-processing-feedback"),e?"INPUT"===t.tagName?(n=t.value,t.value=e,W.push(function(){return t.value=n})):(n=t.innerHTML,t.innerHTML=e,W.push(function(){return t.innerHTML=n})):void 0},D=function(t){return A(t),N(t)},b=function(n,o){var r,i;if(!n.getAttribute("data-noreflink"))return i=n.getAttribute("data-method")||"GET",r=n.href,x(r)?"hash change, nothing to do here":(o.preventDefault(),J(t.BEFORE_REQUEST,{elm:n,method:i,href:r}),D(n),e.visit(r,i))},X=function(t){var n,e;e=[];for(n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},i=function(o,r,i,u,a,l){var s,c,d;return null==a&&(a=q),null==l&&(l=M),null!=(s=e.xhr)&&s.abort(),e.xhr=c=new XMLHttpRequest,c.open(o,r,!0),c.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d=setTimeout(function(){return J(t.TIMEOUT,{xhr:c,method:o,url:r,data:i})},e.xhrTimeout),c.onerror=function(){return M()},c.onreadystatechange=function(){return 4===c.readyState?(clearTimeout(d),200===c.status?a(c.responseText,r,u):c.status===e.redirectStatusCode?C(c):l(c.responseText,r)):void 0},c.withCredentials=!0,c.send(i?X(i):void 0),n.start()},_=function(){var t,n,e,o,r,i,u,a;for(t=p.childNodes,u=[],n=0,o=t.length;o>n;n++)i=t[n],Y(i)||u.push(i);for(a=[],e=0,r=u.length;r>e;e++)i=u[e],a.push(p.removeChild(i));return a},s=function(t){return p.style.display="none"},r=function(t){var n,e,o,r;for(r=[],n=0,e=t.length;e>n;n++)o=t[n],r.push(p.appendChild(o.cloneNode(!0,!0)));return r},T=function(t){var n,e,o,r;for(n=p.cloneNode(!1,!0),e=0,o=t.length;o>e;e++)r=t[e],n.appendChild(r.cloneNode(!0,!0));return n.style.display="block",p.parentNode.appendChild(n),p=n},F=function(n,e,o){return(u=O(e))?(J(t.BEFORE_UNLOAD,{method:n,location:e}),B(u),j(),u.scroll&&P(u.scroll),o||window.history.pushState({reflinks:!0},"",e),J(t.RESTORE,{method:n,location:e}),u):i(n,e)},B=function(t){return p.style.display="none",p=t.documentRoot,p.style.display="block"},U=function(t,n,e){return i(t,n,e.data,!0,I)},K=function(t,n){return u=O(t),u?(t.length>u.location.length&&(u.location=t),B(u),_(),r(n)):(s(),T(n))},C=function(t){var n,e,r,i;return(e=t.getResponseHeader("Location"))?(r=t.getResponseHeader("Method")||"GET",n=new o(document.location),i=new o(e),document.location.href=(n.isSameDomain(i),i.full())):console.error("'Location' header not found")},q=function(o,i,u){var a,l;return e.xhr=null,n.done(),V(w(o)),l=z(E(o)),a=m(l),a&&(l=a.childNodes),J(t.BEFORE_LOAD,{nodes:l}),L()?R(i)?K(i,l):(s(),T(l)):(_(),r(l)),u||window.history.pushState({reflinks:!0,href:document.location.href},"",i),j(),J(t.LOAD,{nodes:l,url:i})},I=function(o,i){var u,a;return e.xhr=null,n.done(),V(w(o)),a=z(E(o)),u=m(a),u&&(a=u.childNodes),J(t.BEFORE_RELOAD,{nodes:a}),_(),r(a),J(t.LOAD,{nodes:a,url:i})},M=function(t,n){return e.xhr=null,document.location.href=n},w=function(t){var n;return n=/<title>(.*?)<\/title>/.exec(t),n&&n[1]?n[1]:""},E=function(t){var n;return n=/<body[\s\S]*?>([\s\S]*?)<\/body>/i.exec(t),n&&n[1]?n[1]:""},f=function(){return{positionX:window.pageXOffset,positionY:window.pageYOffset}},void(P=function(t){return window.scrollTo(t.positionX,t.positionY)})):void console.warn("Reflinks not available in this browser")}).call(this);